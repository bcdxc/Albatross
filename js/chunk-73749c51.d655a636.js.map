{"version":3,"sources":["webpack:///./src/views/UnRead.vue?f427","webpack:///./src/views/UnRead.vue?fa68","webpack:///src/views/UnRead.vue","webpack:///./src/views/UnRead.vue?5d83","webpack:///./src/views/UnRead.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","attrs","scopedSlots","_u","key","fn","on","goback","_v","_s","unreadMes","length","proxy","_l","item","id","params","loginname","author","topicId","topic","title","readMes","staticRenderFns","component"],"mappings":"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","file":"js/chunk-73749c51.d655a636.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnRead.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"unread\"},[_c('Panel',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"width\":\"94%\",\"height\":40},scopedSlots:_vm._u([{key:\"head\",fn:function(){return [_c('div',{staticClass:\"unread-head\"},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.goback}},[_vm._v(\"返回\")]),_c('span',[_vm._v(\" / 未读消息：\"+_vm._s(_vm.unreadMes.length))])],1)]},proxy:true},{key:\"content\",fn:function(){return [(_vm.unreadMes.length)?_c('ul',_vm._l((_vm.unreadMes),function(item){return _c('li',{key:item.id},[_c('router-link',{staticClass:\"need-color\",attrs:{\"to\":{\n                            name: 'UserInfo',\n                            params: { loginname: item.author.loginname },\n                        }}},[_vm._v(_vm._s(item.author.loginname))]),_c('span',[_vm._v(\"在话题\")]),_c('router-link',{staticClass:\"need-color\",attrs:{\"to\":{\n                            name: 'Topic',\n                            params: { topicId: item.topic.id },\n                        }}},[_vm._v(_vm._s(item.topic.title))]),_c('span',[_vm._v(\"中@了你\")])],1)}),0):_c('p',[_vm._v(\"暂无\")])]},proxy:true}])}),_c('Panel',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"sec-panel\",attrs:{\"width\":\"94%\",\"height\":40},scopedSlots:_vm._u([{key:\"head\",fn:function(){return [_c('div',{staticClass:\"unread-head\"},[_c('span',[_vm._v(\"已读消息：\"+_vm._s(_vm.readMes.length))])])]},proxy:true},{key:\"content\",fn:function(){return [(_vm.readMes.length)?_c('ul',_vm._l((_vm.readMes),function(item){return _c('li',{key:item.id},[_c('router-link',{staticClass:\"need-color\",attrs:{\"to\":{\n                            name: 'UserInfo',\n                            params: { loginname: item.author.loginname },\n                        }}},[_vm._v(_vm._s(item.author.loginname))]),_c('span',[_vm._v(\"在话题\")]),_c('router-link',{staticClass:\"need-color\",attrs:{\"to\":{\n                            name: 'Topic',\n                            params: { topicId: item.topic.id },\n                        }}},[_vm._v(_vm._s(item.topic.title))]),_c('span',[_vm._v(\"中@了你\")])],1)}),0):_c('p',[_vm._v(\"暂无\")])]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"unread\">\r\n        <Panel width=\"94%\" :height=\"40\" v-loading=\"loading\">\r\n            <template #head>\r\n                <div class=\"unread-head\">\r\n                    <el-button type=\"text\" @click=\"goback\">返回</el-button>\r\n                    <span> / 未读消息：{{ unreadMes.length }}</span>\r\n                </div>\r\n            </template>\r\n            <template #content>\r\n                <ul v-if=\"unreadMes.length\">\r\n                    <li v-for=\"item in unreadMes\" :key=\"item.id\">\r\n                        <router-link\r\n                            :to=\"{\r\n                                name: 'UserInfo',\r\n                                params: { loginname: item.author.loginname },\r\n                            }\"\r\n                            class=\"need-color\"\r\n                            >{{ item.author.loginname }}</router-link\r\n                        >\r\n                        <span>在话题</span>\r\n                        <router-link\r\n                            :to=\"{\r\n                                name: 'Topic',\r\n                                params: { topicId: item.topic.id },\r\n                            }\"\r\n                            class=\"need-color\"\r\n                            >{{ item.topic.title }}</router-link\r\n                        >\r\n                        <span>中@了你</span>\r\n                    </li>\r\n                </ul>\r\n                <p v-else>暂无</p>\r\n            </template>\r\n        </Panel>\r\n        <Panel width=\"94%\" :height=\"40\" class=\"sec-panel\" v-loading=\"loading\">\r\n            <template #head>\r\n                <div class=\"unread-head\">\r\n                    <span>已读消息：{{ readMes.length }}</span>\r\n                </div>\r\n            </template>\r\n            <template #content>\r\n                <ul v-if=\"readMes.length\">\r\n                    <li v-for=\"item in readMes\" :key=\"item.id\">\r\n                        <router-link\r\n                            :to=\"{\r\n                                name: 'UserInfo',\r\n                                params: { loginname: item.author.loginname },\r\n                            }\"\r\n                            class=\"need-color\"\r\n                            >{{ item.author.loginname }}</router-link\r\n                        >\r\n                        <span>在话题</span>\r\n                        <router-link\r\n                            :to=\"{\r\n                                name: 'Topic',\r\n                                params: { topicId: item.topic.id },\r\n                            }\"\r\n                            class=\"need-color\"\r\n                            >{{ item.topic.title }}</router-link\r\n                        >\r\n                        <span>中@了你</span>\r\n                    </li>\r\n                </ul>\r\n                <p v-else>暂无</p>\r\n            </template>\r\n        </Panel>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Panel from \"../layout/Panel.vue\";\r\nexport default {\r\n    components: { Panel },\r\n    data() {\r\n        return {\r\n            unreadMes: [],\r\n            readMes: [],\r\n            loading: true,\r\n        };\r\n    },\r\n    methods: {\r\n        getUnread(token) {\r\n            this.loading = true;\r\n            this.$axios({\r\n                method: \"get\",\r\n                url: `/messages`,\r\n                params: {\r\n                    accesstoken: token,\r\n                },\r\n            }).then((res) => {\r\n                this.unreadMes = res.data.hasnot_read_messages;\r\n                this.readMes = res.data.has_read_messages;\r\n                this.loading = false;\r\n            });\r\n        },\r\n        goback() {\r\n            this.$router.back();\r\n        },\r\n    },\r\n    watch: {\r\n        \"$store.state.token\": {\r\n            handler(newValue) {\r\n                if (newValue) {\r\n                    this.getUnread(newValue);\r\n                }\r\n            },\r\n            immediate: true,\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.unread {\r\n    .sec-panel {\r\n        margin-top: 18px;\r\n    }\r\n    ul {\r\n        padding: 0;\r\n        margin-top: 0;\r\n    }\r\n    li {\r\n        list-style: none;\r\n        height: 30px;\r\n        line-height: 30px;\r\n        display: flex;\r\n        span,\r\n        a {\r\n            margin-left: 10px;\r\n        }\r\n        .need-color {\r\n            cursor: pointer;\r\n            color: #07b7c5;\r\n            transition: color 0.3s;\r\n            &:hover {\r\n                color: #0695a0;\r\n            }\r\n        }\r\n    }\r\n    .unread-head {\r\n        span {\r\n            font-size: 14px;\r\n        }\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnRead.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnRead.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UnRead.vue?vue&type=template&id=107de96b&\"\nimport script from \"./UnRead.vue?vue&type=script&lang=js&\"\nexport * from \"./UnRead.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UnRead.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}